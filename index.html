<!DOCTYPE html>
<html lang="nl" class="h-full bg-gray-100">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>BotMatic Dashboard â€” Interactieve Analyse</title>
    <meta name="description" content="Een interactief dashboard dat de functies, voordelen en prijzen van BotMatic's chatbot-oplossingen analyseert." />
    <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect rx='12' width='64' height='64' fill='%23ff7a1a'/></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --brand: #ff7a1a;
        }
        body {
            font-family: 'Inter', system-ui, sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 400px;
        }
        .main-content::-webkit-scrollbar { width: 8px; }
        .main-content::-webkit-scrollbar-track { background: #f1f1f1; }
        .main-content::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        .mobile-menu {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        .mobile-menu.open {
            transform: translateX(0);
        }
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .message-bot {
            background-color: #f1f5f9;
            align-self: flex-start;
        }
        .message-user {
            background-color: var(--brand);
            color: white;
            align-self: flex-end;
        }
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-animate.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .how-it-works-step {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .how-it-works-step.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Nieuwe animatie voor de homepage */
        @keyframes pulse-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 122, 26, 0.4); }
            50% { box-shadow: 0 0 25px rgba(255, 122, 26, 0.8); }
        }

        @keyframes shimmer-effect {
            0% { transform: translateX(-100%) skewX(-30deg); }
            100% { transform: translateX(100%) skewX(-30deg); }
        }

        .animated-gradient {
            background: linear-gradient(-45deg, #f0f0f0, #ffffff, #f0f0f0, #ff7a1a);
            background-size: 400% 400%;
            animation: pulse-gradient 15s ease infinite;
        }

        .animated-hero {
            position: relative;
            overflow: hidden;
            animation: glow 3s infinite ease-in-out;
        }

        .animated-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0) 100%);
            transform: translateX(-100%) skewX(-30deg);
            animation: shimmer-effect 2s infinite linear;
            z-index: 2; /* Zorg dat het over de tekst staat */
        }

        /* FAQ Accordion animatie */
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }
        .faq-item.open .faq-answer {
            max-height: 200px; /* Voldoende hoogte voor de animatie */
        }
        .faq-icon {
            transition: transform 0.4s ease-in-out;
        }
        .faq-item.open .faq-icon {
            transform: rotate(45deg);
        }
        .chat-widget {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 50;
        }
        .chat-header {
            background-color: var(--brand);
        }
        .chat-messages {
            overflow-y: auto;
            max-height: 300px;
        }
        .chat-input {
            border-top: 1px solid #e5e7eb;
        }
        .chat-message-bot {
            background-color: #f1f5f9;
            align-self: flex-start;
        }
        .chat-message-user {
            background-color: var(--brand);
            color: white;
            align-self: flex-end;
        }
        .scroll-to-top {
            position: fixed;
            bottom: 24px;
            left: 24px;
            z-index: 40;
            transition: all 0.3s ease-in-out;
            transform: scale(0);
        }
        .scroll-to-top.show {
            transform: scale(1);
        }
    </style>
</head>
<body class="h-full">
    <div class="flex h-full">
        <!-- Sidebar -->
        <aside id="sidebar" class="hidden md:flex flex-col w-64 bg-gray-800 text-gray-300">
            <div class="flex items-center justify-center h-20 border-b border-gray-700">
                <h1 class="text-2xl font-bold text-white">BotMatic</h1>
            </div>
            <nav class="flex-1 px-4 py-6 space-y-2">
                <a href="#home" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>Home
                </a>
                <a href="#metrics" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                     <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2zm2-2v.01M16 16V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v7"></path></svg>Kerncijfers
                </a>
                <a href="#benefits" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>Voordelen
                </a>
                 <a href="#bot-portfolio" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>Bot Portfolio
                </a>
                <a href="#pricing" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg>Tarieven
                </a>
                 <a href="#how-it-works" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.657 7.343A8 8 0 0118.657 17.657z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.001 12h-1.122L9.88 16.121z"></path></svg>Hoe het werkt
                </a>
                <a href="#faq" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>FAQ
                </a>
            </nav>
            <div class="px-4 py-6 border-t border-gray-700">
                <a href="#contact" class="nav-link w-full text-center bg-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-700 transition-transform hover:scale-105 duration-200">Start Proefperiode</a>
            </div>
        </aside>

        <!-- Main content -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- Mobile Header & Menu -->
            <header id="mobile-header" class="md:hidden flex items-center justify-between bg-white p-4 shadow-md transition-shadow duration-300">
                <h1 class="text-xl font-bold text-gray-800">BotMatic</h1>
                <button id="menu-toggle" class="text-gray-600 focus:outline-none">
                     <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </header>
            <aside id="mobile-menu" class="mobile-menu fixed inset-y-0 left-0 w-64 bg-gray-800 text-gray-300 z-30 md:hidden">
                <div class="flex items-center justify-between h-20 border-b border-gray-700 px-4">
                    <h1 class="text-2xl font-bold text-white">BotMatic</h1>
                    <button id="menu-close" class="text-gray-300 text-3xl">&times;</button>
                </div>
                <nav class="flex-1 px-4 py-6 space-y-2">
                    <a href="#home" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Home</a>
                    <a href="#metrics" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Kerncijfers</a>
                    <a href="#benefits" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Voordelen</a>
                    <a href="#bot-portfolio" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Bot Portfolio</a>
                    <a href="#pricing" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Tarieven</a>
                    <a href="#how-it-works" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">Hoe het werkt</a>
                    <a href="#faq" class="nav-link flex items-center px-4 py-2 rounded-lg hover:bg-gray-700">FAQ</a>
                </nav>
                 <div class="px-4 py-6 border-t border-gray-700">
                    <a href="#contact" class="nav-link w-full text-center bg-orange-600 text-white font-bold py-3 px-4 rounded-lg">Start Proefperiode</a>
                </div>
            </aside>
            <div id="overlay" class="fixed inset-0 bg-black opacity-50 z-20 hidden"></div>

            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6 md:p-10 main-content" style="scroll-behavior: smooth;">
                <div class="space-y-12">

                    <!-- Home Section (New Hero Layout with Pulsing Gradient) -->
                    <section id="home" class="scroll-mt-20 scroll-animate relative rounded-2xl shadow-lg p-8 md:p-16 lg:p-24 overflow-hidden animated-hero">
                         <div class="absolute inset-0 w-full h-full animated-gradient"></div>
                        <div class="relative z-10 text-center">
                            <div class="max-w-4xl mx-auto">
                                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight text-gray-900">
                                    Automatiseer Jouw Bedrijf met <span class="text-orange-600">Slimme Chatbots</span>
                                </h1>
                                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-xl text-gray-600">
                                    Stop met tijdverspilling. Onze AI-gestuurde bots handelen vragen, afspraken en leads af, 24/7 beschikbaar en klaar om jouw team te ondersteunen.
                                </p>
                                <div class="mt-10">
                                    <a href="#contact" class="inline-block bg-orange-600 text-white font-bold py-4 px-10 rounded-lg text-lg hover:bg-orange-700 transition-transform hover:scale-105 duration-200 shadow-lg">
                                        Start Je Gratis Proefperiode
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Nieuwe Fiches Sectie -->
                    <section id="metrics" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                             <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2zm2-2v.01M16 16V9a2 2 0 00-2-2h-2a2 2 0 00-2 2v7"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Belangrijkste Kerncijfers</h2>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 flex flex-col items-center justify-center transition-transform hover:scale-105 duration-300">
                                    <svg class="w-12 h-12 text-orange-600 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg>
                                    <p class="text-4xl font-extrabold text-gray-900" data-target="45">0%</p>
                                    <p class="text-lg font-bold text-gray-800 mt-2">Conversies</p>
                                    <p class="text-sm text-gray-500">Omzetting van bezoekers naar leads</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 flex flex-col items-center justify-center transition-transform hover:scale-105 duration-300">
                                    <svg class="w-12 h-12 text-orange-600 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    <p class="text-4xl font-extrabold text-gray-900" data-target="300">0+</p>
                                    <p class="text-lg font-bold text-gray-800 mt-2">Bespaarde Uren</p>
                                    <p class="text-sm text-gray-500">Jaarlijkse tijdsbesparing per afdeling</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 flex flex-col items-center justify-center transition-transform hover:scale-105 duration-300">
                                    <svg class="w-12 h-12 text-orange-600 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    <p class="text-4xl font-extrabold text-gray-900" data-target="95">0%</p>
                                    <p class="text-lg font-bold text-gray-800 mt-2">Tevredenheidsscore</p>
                                    <p class="text-sm text-gray-500">Positieve feedback van uw klanten</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Benefits Section (Updated to a card-based layout) -->
                    <section id="benefits" class="scroll-mt-20 scroll-animate">
                         <div class="bg-white rounded-2xl shadow-lg p-8">
                            <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Voordelen per Sector</h2>
                            </div>
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                                <div class="flex flex-col space-y-4">
                                     <!-- Benefits cards will be generated by JS -->
                                     <div id="benefits-cards" class="flex flex-col space-y-4"></div>
                                </div>
                                <div id="sector-info" class="p-8 bg-gray-100 rounded-2xl h-full min-h-[300px] transition-all duration-300 ease-in-out">
                                     <h3 id="sector-title" class="text-2xl font-bold text-gray-800 mb-4">Selecteer een Sector</h3>
                                     <p id="sector-description" class="text-gray-600">Ontdek de specifieke voordelen en toepassingen voor uw branche.</p>
                                </div>
                            </div>
                         </div>
                    </section>
                    
                    <!-- Bot Portfolio Section -->
                    <section id="bot-portfolio" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                             <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Onze Bots in Actie</h2>
                            </div>
                            <div id="bot-filters" class="flex flex-wrap justify-center gap-2 mb-8">
                                <button data-filter="all" class="bot-filter-btn bg-orange-500 text-white py-2 px-4 rounded-full text-sm font-semibold transition-transform hover:scale-105">Alles</button>
                                <button data-filter="horeca" class="bot-filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-full text-sm font-semibold transition-transform hover:scale-105">Horeca</button>
                                <button data-filter="beauty" class="bot-filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-full text-sm font-semibold transition-transform hover:scale-105">Beauty</button>
                                <button data-filter="vastgoed" class="bot-filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-full text-sm font-semibold transition-transform hover:scale-105">Vastgoed</button>
                                <button data-filter="auto" class="bot-filter-btn bg-gray-200 text-gray-700 py-2 px-4 rounded-full text-sm font-semibold transition-transform hover:scale-105">Auto</button>
                            </div>
                            <div id="bot-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                <!-- Bot cards will be injected here by JavaScript -->
                            </div>
                        </div>
                    </section>

                    <!-- Pricing Section -->
                    <section id="pricing" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                             <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Duidelijke Tarieven</h2>
                            </div>
                             <!-- Chart to be included here -->
                             <div id="plan-chart-section" class="mt-8 bg-white p-6 rounded-2xl shadow-lg">
                                <div class="flex items-center justify-center mb-6 text-center">
                                    <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path></svg>
                                    <h3 class="text-2xl font-bold text-gray-800">Vergelijk Pakketfuncties Visueel</h3>
                                </div>
                                <div id="plan-chart-controls" class="flex flex-wrap justify-center gap-2 mb-4">
                                   <button data-type="all" class="bg-orange-500 text-white py-1 px-3 rounded-lg text-sm font-semibold transition-transform hover:scale-105">Alles</button>
                                   <button data-type="core" class="bg-gray-200 text-gray-700 py-1 px-3 rounded-lg text-sm font-semibold transition-transform hover:scale-105">Kern</button>
                                   <button data-type="ai" class="bg-gray-200 text-gray-700 py-1 px-3 rounded-lg text-sm font-semibold transition-transform hover:scale-105">AI</button>
                                   <button data-type="support" class="bg-gray-200 text-gray-700 py-1 px-3 rounded-lg text-sm font-semibold transition-transform hover:scale-105">Support</button>
                                </div>
                                <div class="chart-container mx-auto"><canvas id="planFeaturesChart"></canvas></div>
                             </div>
                             <!-- End of Chart -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-8">
                                <div class="pricing-card border border-gray-200 p-6 rounded-2xl bg-gray-50 transition-transform hover:scale-105 duration-300">
                                    <h3 class="text-xl font-bold">Starter</h3>
                                    <p class="text-4xl font-extrabold my-2">â‚¬89 <span class="text-base font-medium text-gray-500">/mnd</span></p>
                                    <ul class="space-y-2 text-gray-600"><li>âœ“ 1 Kanaal</li><li>âœ“ Snelle FAQ-flows</li><li>âœ“ Hosting & updates</li><li>âœ“ Basissupport</li></ul>
                                </div>
                                <div class="pricing-card border-2 border-orange-500 p-6 rounded-2xl bg-white relative shadow-2xl transform md:scale-105 transition-transform hover:scale-110 duration-300">
                                    <div class="absolute top-0 right-4 -mt-4 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full">Meest Gekozen</div>
                                    <h3 class="text-xl font-bold">Pro</h3>
                                    <p class="text-4xl font-extrabold my-2">â‚¬149 <span class="text-base font-medium text-gray-500">/mnd</span></p>
                                    <ul class="space-y-2 text-gray-600"><li>âœ“ 2 Kanalen</li><li>âœ“ AI-dialogen & intenties</li><li>âœ“ CRM-integraties</li><li>âœ“ Prioritaire support</li></ul>
                                </div>
                                <div class="pricing-card border border-gray-200 p-6 rounded-2xl bg-gray-50 transition-transform hover:scale-105 duration-300">
                                    <h3 class="text-xl font-bold">Business</h3>
                                    <p class="text-4xl font-extrabold my-2">â‚¬249 <span class="text-base font-medium text-gray-500">/mnd</span></p>
                                    <ul class="space-y-2 text-gray-600"><li>âœ“ Alle Kanalen</li><li>âœ“ Onbeperkte AI & talen</li><li>âœ“ Maatwerk integraties</li><li>âœ“ Dedicated support</li></ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- How it Works Section -->
                    <section id="how-it-works" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                            <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.657 7.343A8 8 0 0118.657 17.657z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.001 12h-1.122L9.88 16.121z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Hoe het werkt</h2>
                            </div>
                             <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                                <div class="flex flex-col items-center how-it-works-step">
                                    <div class="w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mb-4">
                                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.484 9.498 5 8 5c-1.502 0-2.832.484-4 1.253m16 0c-1.168-.769-2.502-1.253-4-1.253s-2.832.484-4 1.253m-4 12v-13m4 13v-13"></path></svg>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800">1. Kies uw Bot</h3>
                                    <p class="text-gray-600 mt-2">Selecteer een kant-en-klare bot uit ons portfolio of laat er een op maat maken.</p>
                                </div>
                                <div class="flex flex-col items-center how-it-works-step">
                                    <div class="w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mb-4">
                                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800">2. Integreer</h3>
                                    <p class="text-gray-600 mt-2">Voeg de code toe aan uw website of verbind uw sociale mediakanalen in een paar klikken.</p>
                                </div>
                                <div class="flex flex-col items-center how-it-works-step">
                                    <div class="w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mb-4">
                                        <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.01 12.01 0 003 12c0 2.83 1.134 5.407 2.944 7.346L12 22.944l7.056-3.598A12.01 12.01 0 0021 12a12.001 12.001 0 00-2.382-6.016z"></path></svg>
                                    </div>
                                    <h3 class="text-xl font-bold text-gray-800">3. Profiteer</h3>
                                    <p class="text-gray-600 mt-2">De bot is live! Hij handelt nu leads en vragen af, terwijl u zich focust op uw kernactiviteiten.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- FAQ Section (Updated with accordion animation) -->
                    <section id="faq" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                            <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Veelgestelde Vragen</h2>
                            </div>
                            <div class="space-y-4">
                                <div class="faq-item p-4 rounded-xl bg-gray-50 border border-gray-200 cursor-pointer transition-colors hover:bg-gray-100">
                                    <h3 class="faq-question font-bold flex justify-between items-center text-gray-800">
                                        Hoe snel is een bot live?
                                        <svg class="faq-icon w-6 h-6 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </h3>
                                    <p class="faq-answer text-gray-600 mt-2">Voor de standaard bots uit ons portfolio is dit meestal binnen 48 uur na activatie van uw abonnement. Maatwerkoplossingen duren uiteraard langer.</p>
                                </div>
                                <div class="faq-item p-4 rounded-xl bg-gray-50 border border-gray-200 cursor-pointer transition-colors hover:bg-gray-100">
                                    <h3 class="faq-question font-bold flex justify-between items-center text-gray-800">
                                        Welke kanalen worden ondersteund?
                                        <svg class="faq-icon w-6 h-6 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </h3>
                                    <p class="faq-answer text-gray-600 mt-2">Wij ondersteunen de meestgebruikte kanalen, zoals uw website, Facebook Messenger, WhatsApp Business en Instagram Direct.</p>
                                </div>
                                <div class="faq-item p-4 rounded-xl bg-gray-50 border border-gray-200 cursor-pointer transition-colors hover:bg-gray-100">
                                    <h3 class="faq-question font-bold flex justify-between items-center text-gray-800">
                                        Is er een proefperiode?
                                        <svg class="faq-icon w-6 h-6 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </h3>
                                    <p class="faq-answer text-gray-600 mt-2">Ja, u kunt een gratis proefperiode starten van 14 dagen voor de 'Starter' bot om de basisfunctionaliteit te testen.</p>
                                </div>
                                <div class="faq-item p-4 rounded-xl bg-gray-50 border border-gray-200 cursor-pointer transition-colors hover:bg-gray-100">
                                    <h3 class="faq-question font-bold flex justify-between items-center text-gray-800">
                                        Kunnen we onze eigen content toevoegen?
                                        <svg class="faq-icon w-6 h-6 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </h3>
                                    <p class="faq-answer text-gray-600 mt-2">Absoluut. Het 'Pro' en 'Business' pakket bieden tools om zelf content toe te voegen, aan te passen en de dialoogstromen te beheren.</p>
                                </div>
                                <div class="faq-item p-4 rounded-xl bg-gray-50 border border-gray-200 cursor-pointer transition-colors hover:bg-gray-100">
                                    <h3 class="faq-question font-bold flex justify-between items-center text-gray-800">
                                        Hoe zit het met de beveiliging van data?
                                        <svg class="faq-icon w-6 h-6 text-gray-500 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </h3>
                                    <p class="faq-answer text-gray-600 mt-2">Wij hanteren strikte beveiligingsprotocollen en voldoen aan alle relevante privacywetgeving, inclusief GDPR, om de gegevens van uw klanten te beschermen.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Contact Section -->
                    <section id="contact" class="scroll-mt-20 scroll-animate">
                        <div class="bg-white rounded-2xl shadow-lg p-8">
                            <div class="flex items-center justify-center text-center mb-8">
                                <svg class="w-8 h-8 mr-3 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-2 2a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2h14a2 2 0 002-2V10a2 2 0 00-2-2z"></path></svg>
                                <h2 class="text-3xl font-extrabold text-gray-900">Neem Contact Op</h2>
                            </div>
                             <div class="text-center mb-4">
                                <p id="user-id-display" class="text-sm text-gray-500 italic"></p>
                            </div>
                            <form id="contact-form" onsubmit="onDemoSubmit(event)" class="max-w-xl mx-auto space-y-4">
                                <div>
                                    <label for="contact-name" class="block text-sm font-medium text-gray-700">Naam</label>
                                    <input type="text" id="contact-name" name="name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500">
                                </div>
                                <div>
                                    <label for="contact-email" class="block text-sm font-medium text-gray-700">E-mail</label>
                                    <input type="email" id="contact-email" name="email" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500">
                                </div>
                                <div>
                                    <label for="contact-message" class="block text-sm font-medium text-gray-700">Bericht</label>
                                    <textarea id="contact-message" name="message" rows="4" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500"></textarea>
                                </div>
                                <div class="flex justify-center">
                                    <button type="submit" class="w-full md:w-auto bg-orange-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-orange-700 transition-transform hover:scale-105 duration-200">Verstuur Bericht</button>
                                </div>
                                <div id="form-message" class="text-center mt-4 hidden text-sm font-medium"></div>
                            </form>
                             <div class="mt-8">
                                <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Jouw Verstuurde Berichten</h3>
                                <div id="contact-messages-list" class="space-y-4">
                                    <p class="text-center text-gray-500">Geen berichten verstuurd.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Demo Modal -->
    <div id="demo-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60 opacity-0 hidden">
        <div class="modal-content w-full max-w-lg bg-white rounded-2xl shadow-xl p-6 transform scale-95 transition-all duration-300">
            <div class="flex justify-between items-center border-b pb-3 mb-4">
                <h3 id="modal-title" class="text-xl font-bold text-gray-800">Bot Demo</h3>
                <button id="modal-close" class="text-gray-400 hover:text-gray-600 transition-colors">&times;</button>
            </div>
            <div id="modal-chat-content" class="space-y-4 flex flex-col overflow-y-auto max-h-96 min-h-64">
                <!-- Chat messages will be injected here -->
            </div>
        </div>
    </div>

    <!-- Live Chat Widget -->
    <div id="chat-widget" class="chat-widget hidden md:block">
        <div id="chat-toggle" class="w-16 h-16 bg-orange-600 text-white rounded-full flex items-center justify-center cursor-pointer shadow-lg hover:bg-orange-700 transition-transform hover:scale-110 duration-200">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M16 10h.01M9 20h6a2 2 0 002-2V6a2 2 0 00-2-2H9a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
        </div>
        <div id="chat-window" class="hidden w-80 bg-white rounded-xl shadow-2xl overflow-hidden mb-4 transform scale-y-0 origin-bottom transition-transform duration-300">
            <div class="chat-header text-white font-bold p-4 flex justify-between items-center rounded-t-xl">
                <span>BotMatic Chat</span>
                <button id="chat-close" class="text-white hover:text-gray-200">&times;</button>
            </div>
            <div id="chat-messages" class="chat-messages flex flex-col p-4 space-y-3">
                <div class="p-3 rounded-xl max-w-xs text-sm chat-message-bot">Hallo, hoe kan ik u helpen?</div>
            </div>
            <div class="chat-input p-4">
                <input type="text" id="chat-input" class="w-full rounded-lg border border-gray-300 p-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Typ uw bericht...">
            </div>
        </div>
    </div>
    
    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" class="scroll-to-top p-4 bg-gray-800 text-white rounded-full shadow-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </button>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    setLogLevel('debug');

    // Global variables provided by the Canvas environment.
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
    const authToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    let db, auth, userId, planChart = null;

    // Data for the chatbot demos
    const botDemos = [
        { id: 'resto-reservering', sector: 'horeca', title: 'Restaurant Reserveringsbot', description: 'Handelt tafelreserveringen af.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-orange-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 10a2 2 0 012-2h14a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2v-7zm0 0h18" /><path stroke-linecap="round" stroke-linejoin="round" d="M7 8V6a2 2 0 012-2h6a2 2 0 012 2v2M8 12h.01M16 12h.01M12 12h.01" /></svg>`, chat: [ { sender: 'bot', text: 'Welkom bij Eetpaleis de Smaak! Kan ik u helpen met een reservering?' }, { sender: 'user', text: 'Hoi, kan ik een tafel voor 2 reserveren?' }, { sender: 'bot', text: 'Zeker! Voor welke datum en tijd?' }, { sender: 'user', text: 'Aanstaande zaterdag om 19:30.' }, { sender: 'bot', text: 'Perfect. Ik heb een tafel voor 2 op zaterdag om 19:30. Mag ik uw naam en telefoonnummer?' }, { sender: 'user', text: 'Jan Janssen, 0612345678' }, { sender: 'bot', text: 'Bedankt, Jan! Uw reservering is bevestigd. Tot zaterdag!' } ]},
        { id: 'salon-afspraak', sector: 'beauty', title: 'Salon Afsprakenplanner', description: 'Boekt behandelingen en stuurt herinneringen.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-orange-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 13a3 3 0 100-6 3 3 0 000 6zM17 13a3 3 0 100-6 3 3 0 000 6zM11 20H7a5 5 0 01-5-5V9a5 5 0 015-5h10a5 5 0 015 5v6a5 5 0 01-5 5h-4" /></svg>`, chat: [ { sender: 'bot', text: 'Welkom bij Salon Mooi! Welke behandeling wilt u boeken?' }, { sender: 'user', text: 'Ik wil graag mijn haar laten knippen.' }, { sender: 'bot', text: 'OkÃ©, knippen. Heeft u een voorkeur voor een kapster?' }, { sender: 'user', text: 'Nee, geen voorkeur.' }, { sender: 'bot', text: 'Ik heb beschikbaarheid op woensdag om 14:00 of donderdag om 11:00. Wat schikt u?' }, { sender: 'user', text: 'Woensdag 14:00 is prima.' }, { sender: 'bot', text: 'Top! Uw afspraak staat genoteerd. U ontvangt een dag van tevoren een herinnering.' } ]},
        { id: 'vastgoed-lead', sector: 'vastgoed', title: 'Vastgoed Lead-Kwalificatie', description: 'Filtert serieuze kopers en plant bezichtigingen.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-orange-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>`, chat: [ { sender: 'bot', text: 'Hallo! Ik zie dat u geÃ¯nteresseerd bent in het pand aan de Kerkstraat 12. Klopt dat?' }, { sender: 'user', text: 'Ja, dat klopt. Is het nog beschikbaar?' }, { sender: 'bot', text: 'Jazeker. Bent u op zoek naar een woning voor uzelf of als investering?' }, { sender: 'user', text: 'Voor mezelf.' }, { sender: 'bot', text: 'Goed om te weten. Heeft u al een goedgekeurde hypotheek?' }, { sender: 'user', text: 'Ja, die heb ik.' }, { sender: 'bot', text: 'Fantastisch. Dat maakt u een sterke kandidaat. Wilt u een bezichtiging inplannen?' } ]},
        { id: 'auto-proefrit', sector: 'auto', title: 'Proefrit Planner', description: 'Plant proefritten in voor specifieke modellen.', icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-orange-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.657 7.343A8 8 0 0118.657 17.657z" /><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 16.121A3 3 0 1012.001 12h-1.122L9.88 16.121z" /></svg>`, chat: [ { sender: 'bot', text: 'Welkom bij AutoDeal! In welk model bent u geÃ¯nteresseerd voor een proefrit?' }, { sender: 'user', text: 'De nieuwe elektrische SUV.' }, { sender: 'bot', text: 'Goede keuze! Op welke locatie wilt u de proefrit maken?' }, { sender: 'user', text: 'Amsterdam' }, { sender: 'bot', text: 'OkÃ©, Amsterdam. Ik zie beschikbare slots op vrijdagmiddag en zaterdagochtend. Wat heeft uw voorkeur?' }, { sender: 'user', text: 'Zaterdagochtend graag.' }, { sender: 'bot', text: 'Genoteerd! Ik heb alleen nog uw contactgegevens nodig.' } ]}
    ];

    const planData = {
        labels: ['Starter', 'Pro', 'Business'],
        datasets: [{
            label: 'Kernfuncties', data: [3, 4, 5], backgroundColor: 'rgba(255, 159, 64, 0.7)', category: 'core'
        }, {
            label: 'AI-functies', data: [1, 3, 5], backgroundColor: 'rgba(54, 162, 235, 0.7)', category: 'ai'
        }, {
            label: 'Support & Integraties', data: [1, 3, 5], backgroundColor: 'rgba(75, 192, 192, 0.7)', category: 'support'
        }]
    };

    const sectorInfoContent = {
        beauty: { title: "Beauty & Wellness", description: "Automatiseer afspraken 24/7, verstuur intakeformulieren en herinneringen. Verminder no-shows en vul uw agenda efficiÃ«nt." },
        horeca: { title: "Horeca", description: "Beheer reserveringen automatisch en beantwoord direct vragen over het menu, openingstijden of allergenen. Verlaag de werkdruk op het personeel." },
        auto: { title: "Autodealers", description: "Kwalificeer leads door gerichte vragen te stellen, plan proefritten en serviceafspraken in, ook buiten kantooruren." },
        vastgoed: { title: "Vastgoed", description: "Plan automatisch bezichtigingen, beantwoord vragen over panden en filter serieuze kandidaten. Versnel het proces voor makelaars." }
    };

    function renderPlanChart(filterType = 'all') {
        const ctx = document.getElementById('planFeaturesChart')?.getContext('2d');
        if (!ctx) return;
        if (planChart && typeof planChart.destroy === 'function') {
            planChart.destroy();
        }
        const filteredDatasets = planData.datasets.filter(ds => filterType === 'all' || ds.category === filterType);
        planChart = new Chart(ctx, {
            type: 'bar',
            data: { labels: planData.labels, datasets: filteredDatasets },
            options: {
                responsive: true, maintainAspectRatio: false,
                animation: { duration: 800, easing: 'easeInOutQuart' },
                scales: { 
                    y: { beginAtZero: true, title: { display: true, text: 'Aantal Features' } }
                },
                plugins: { tooltip: { mode: 'index', intersect: false } }
            }
        });
    }

    const initFirebase = async () => {
        try {
            const app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);

            if (authToken) {
                await signInWithCustomToken(auth, authToken);
            } else {
                await signInAnonymously(auth);
            }

            auth.onAuthStateChanged(user => {
                if (user) {
                    userId = user.uid;
                    const userIdDisplay = document.getElementById('user-id-display');
                    if(userIdDisplay) {
                        userIdDisplay.textContent = `Jouw unieke ID: ${userId}`;
                    }
                    listenForContactMessages();
                } else {
                    console.log("No user signed in.");
                }
            });

        } catch (error) {
            console.error("Error initializing Firebase:", error);
        }
    };
    
    // Function to save a contact message to Firestore
    window.onDemoSubmit = async function(e) {
        e.preventDefault();
        const form = e.target;
        const formData = new FormData(form);
        const name = formData.get('name');
        const email = formData.get('email');
        const message = formData.get('message');
        const formMessage = document.getElementById('form-message');

        if (!db || !userId) {
            console.error("Firestore is not initialized.");
            formMessage.textContent = 'Er is een fout opgetreden. Probeer het opnieuw.';
            formMessage.className = 'text-center mt-4 text-sm font-medium text-red-600 animated-message';
            return;
        }

        try {
            await addDoc(collection(db, `/artifacts/${appId}/users/${userId}/contact-messages`), {
                name,
                email,
                message,
                timestamp: serverTimestamp()
            });

            formMessage.textContent = 'Bericht succesvol verzonden!';
            formMessage.className = 'text-center mt-4 text-sm font-medium text-green-600 animated-message';
            form.reset();
        } catch (error) {
            console.error("Error writing document:", error);
            formMessage.textContent = `Er is een fout opgetreden: ${error.message}`;
            formMessage.className = 'text-center mt-4 text-sm font-medium text-red-600 animated-message';
        }
        
        // Animatie van bericht
        formMessage.classList.add('opacity-0', 'transition-opacity');
        formMessage.classList.remove('hidden');
        setTimeout(() => {
            formMessage.classList.remove('opacity-0');
        }, 10);
        setTimeout(() => {
            formMessage.classList.add('opacity-0');
            setTimeout(() => formMessage.classList.add('hidden'), 500);
        }, 5000);
    };
    
    // Listen for real-time updates on contact messages
    function listenForContactMessages() {
        const messagesList = document.getElementById('contact-messages-list');
        if (!messagesList) return;
        const messagesRef = collection(db, `/artifacts/${appId}/users/${userId}/contact-messages`);
        const q = query(messagesRef);

        onSnapshot(q, (snapshot) => {
            const messages = [];
            snapshot.forEach(doc => {
                const data = doc.data();
                messages.push({ ...data, id: doc.id });
            });
            
            if (messages.length === 0) {
                 messagesList.innerHTML = '<p class="text-center text-gray-500">Geen berichten verstuurd.</p>';
            } else {
                messagesList.innerHTML = messages.map(msg => `
                    <div class="p-4 bg-gray-50 rounded-xl border border-gray-200">
                        <p class="text-sm font-bold text-gray-800">${msg.name} (${msg.email})</p>
                        <p class="text-gray-600 mt-1">${msg.message}</p>
                    </div>
                `).join('');
            }
        });
    }

    function populateBotGallery() {
        const gallery = document.getElementById('bot-gallery');
        if(!gallery) return;
        gallery.innerHTML = botDemos.map(bot => `
            <div class="bot-card bg-gray-50 p-6 rounded-xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1" data-sector="${bot.sector}" data-bot-id="${bot.id}">
                <div class="flex-shrink-0 mb-4">${bot.icon}</div>
                <h3 class="font-bold text-lg mt-2">${bot.title}</h3>
                <p class="text-gray-600 text-sm mt-1 break-words">${bot.description}</p>
                <button class="demo-btn mt-4 text-sm font-bold text-orange-600 hover:underline">Bekijk Demo &rarr;</button>
            </div>
        `).join('');
    }

    function handleBotFilters() {
        const filterButtons = document.querySelectorAll('.bot-filter-btn');
        const botCards = document.querySelectorAll('.bot-card');
        if(!filterButtons.length) return;
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const filter = button.dataset.filter;
                setActiveButton(button, '.bot-filter-btn', 'bg-orange-500 text-white', 'bg-gray-200 text-gray-700');
                botCards.forEach(card => {
                    card.style.display = (filter === 'all' || card.dataset.sector === filter) ? 'block' : 'none';
                });
            });
        });
    }
    
    function handleDemoModal() {
        const modal = document.getElementById('demo-modal');
        const modalClose = document.getElementById('modal-close');
        const gallery = document.getElementById('bot-gallery');
        if(!modal || !gallery || !modalClose) return;
        gallery.addEventListener('click', e => {
            const button = e.target.closest('.demo-btn');
            if (button) {
                const card = button.closest('.bot-card');
                const botId = card.dataset.botId;
                const botData = botDemos.find(b => b.id === botId);
                const chatContent = document.getElementById('modal-chat-content');
                
                document.getElementById('modal-title').textContent = botData.title;
                chatContent.innerHTML = '';
                
                // Animate chat messages
                botData.chat.forEach((msg, index) => {
                    setTimeout(() => {
                        const msgEl = document.createElement('div');
                        msgEl.className = `p-3 rounded-xl max-w-xs text-sm message-${msg.sender} opacity-0 transition-opacity duration-300`;
                        msgEl.textContent = msg.text;
                        chatContent.appendChild(msgEl);
                        chatContent.scrollTop = chatContent.scrollHeight; // Auto-scroll
                        
                        setTimeout(() => msgEl.classList.remove('opacity-0'), 10);
                    }, index * 800);
                });

                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modal.querySelector('.modal-content').classList.remove('scale-95');
                }, 10);
            }
        });
        const closeModal = () => {
            modal.classList.add('opacity-0');
            modal.querySelector('.modal-content').classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 300);
        };
        modalClose.addEventListener('click', closeModal);
        modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });
    }
    
    // New function to handle metric counter animation
    function animateCounters() {
        const counters = document.querySelectorAll('#metrics [data-target]');
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counter = entry.target;
                    const target = +counter.dataset.target;
                    let current = 0;
                    const increment = target / 200; // Snelheid van de animatie
                    const isPercentage = counter.textContent.includes('%');
                    const isPlus = counter.textContent.includes('+');
                    
                    const updateCounter = setInterval(() => {
                        current += increment;
                        if (current < target) {
                            counter.textContent = Math.ceil(current) + (isPercentage ? '%' : '') + (isPlus ? '+' : '');
                        } else {
                            counter.textContent = target + (isPercentage ? '%' : '') + (isPlus ? '+' : '');
                            clearInterval(updateCounter);
                        }
                    }, 5);
                    observer.unobserve(counter);
                }
            });
        }, { threshold: 0.5 });
        counters.forEach(counter => observer.observe(counter));
    }
    
    function populateBenefitsCards() {
        const benefitsContainer = document.getElementById('benefits-cards');
        if (!benefitsContainer) return;
        const benefitSectors = ['beauty', 'horeca', 'auto', 'vastgoed'];
        
        // Genereer de HTML voor alle kaarten
        const cardsHtml = benefitSectors.map(sector => {
            const info = sectorInfoContent[sector];
            return `
                <button class="sector-btn p-6 bg-gray-50 rounded-xl text-left transition-all duration-200 hover:shadow-md hover:-translate-y-1" data-sector="${sector}">
                    <h3 class="text-lg font-bold">${info.title}</h3>
                    <p class="text-gray-600 text-sm">${info.description}</p>
                </button>
            `;
        }).join('');
        
        benefitsContainer.innerHTML = cardsHtml;
        
        // Activeer de eerste knop na het renderen en voeg event listeners toe
        const buttons = document.querySelectorAll('.sector-btn');
        if (buttons.length > 0) {
            updateSectorInfo(buttons[0].dataset.sector);
            setActiveButton(buttons[0], '.sector-btn', 'ring-2 ring-orange-500');
        }
        
        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                const sector = btn.dataset.sector;
                updateSectorInfo(sector);
                setActiveButton(btn, '.sector-btn', 'ring-2 ring-orange-500');
            });
        });
    }

    function handleScrollAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.scroll-animate').forEach(el => observer.observe(el));
    }
    
    // Functie voor geanimeerde "Hoe het werkt" sectie
    function handleHowItWorksAnimation() {
        const steps = document.querySelectorAll('.how-it-works-step');
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.classList.add('is-visible');
                    }, index * 200); // Staggered delay
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });
        steps.forEach(step => observer.observe(step));
    }

    document.addEventListener('DOMContentLoaded', () => {
        initFirebase();
        populateBotGallery();
        handleBotFilters();
        handleDemoModal();
        handleScrollAnimations();
        animateCounters();
        populateBenefitsCards();
        handleHowItWorksAnimation();

        // FAQ Accordion
        document.querySelectorAll('.faq-item').forEach(item => {
            const question = item.querySelector('.faq-question');
            if (question) {
                question.addEventListener('click', () => {
                    document.querySelectorAll('.faq-item.open').forEach(openItem => {
                        if (openItem !== item) {
                            openItem.classList.remove('open');
                        }
                    });
                    item.classList.toggle('open');
                });
            }
        });

        const planChartControls = document.getElementById('plan-chart-controls');
        if (planChartControls) {
            renderPlanChart();
            planChartControls.addEventListener('click', e => {
                if (e.target.tagName === 'BUTTON') {
                    renderPlanChart(e.target.dataset.type);
                    setActiveButton(e.target, '#plan-chart-controls button', 'bg-orange-500 text-white', 'bg-gray-200 text-gray-700');
                }
            });
        }

        // Mobile Menu Logic
        const navLinks = document.querySelectorAll('.nav-link');
        const mobileMenu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('overlay');
        const menuToggle = document.getElementById('menu-toggle');
        const menuClose = document.getElementById('menu-close');
        
        const closeMenu = () => {
            if (mobileMenu) mobileMenu.classList.remove('open');
            if (overlay) overlay.classList.add('hidden');
        };

        navLinks.forEach(link => {
            link.addEventListener('click', e => {
                e.preventDefault();
                const targetId = e.currentTarget.getAttribute('href').substring(1);
                document.getElementById(targetId)?.scrollIntoView({ behavior: 'smooth' });
                if(mobileMenu && mobileMenu.classList.contains('open')) {
                    closeMenu();
                }
            });
        });

        if (menuToggle) {
            menuToggle.addEventListener('click', () => {
                if (mobileMenu) mobileMenu.classList.add('open');
                if (overlay) overlay.classList.remove('hidden');
            });
        }
        if (menuClose) menuClose.addEventListener('click', closeMenu);
        if (overlay) overlay.addEventListener('click', closeMenu);
        
        // Live Chat Widget Logic
        const chatToggle = document.getElementById('chat-toggle');
        const chatWindow = document.getElementById('chat-window');
        const chatClose = document.getElementById('chat-close');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');

        if (chatToggle && chatWindow && chatClose && chatInput && chatMessages) {
            chatToggle.addEventListener('click', () => {
                chatWindow.classList.toggle('hidden');
                chatWindow.classList.toggle('scale-y-0');
            });

            chatClose.addEventListener('click', () => {
                chatWindow.classList.add('scale-y-0');
                setTimeout(() => chatWindow.classList.add('hidden'), 300);
            });

            chatInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && chatInput.value.trim() !== '') {
                    const userMessage = chatInput.value.trim();
                    chatInput.value = '';
                    
                    const userMsgEl = document.createElement('div');
                    userMsgEl.className = 'p-3 rounded-xl max-w-xs text-sm chat-message-user break-words self-end';
                    userMsgEl.textContent = userMessage;
                    chatMessages.appendChild(userMsgEl);
                    chatMessages.scrollTop = chatMessages.scrollHeight;

                    // Simulate bot response
                    setTimeout(() => {
                        const botResponses = {
                            "hallo": "Hallo! Hoe kan ik u van dienst zijn?",
                            "hoe werkt het": "Onze bot integreert naadloos met uw website en sociale media om vragen te beantwoorden.",
                            "wat kost het": "U vindt onze tarieven in de sectie 'Tarieven' op deze pagina. Ze beginnen bij â‚¬89 per maand.",
                            "ik wil een demo": "Geweldig! U kunt een demo bekijken in het 'Bot Portfolio' of contact met ons opnemen via het formulier hieronder.",
                            "bedankt": "Graag gedaan! Als u nog vragen heeft, laat het me weten."
                        };
                        
                        const botMessageText = botResponses[userMessage.toLowerCase()] || "Excuses, ik heb uw vraag niet begrepen. Kunt u het anders formuleren?";

                        const botMsgEl = document.createElement('div');
                        botMsgEl.className = 'p-3 rounded-xl max-w-xs text-sm chat-message-bot break-words self-start';
                        botMsgEl.textContent = botMessageText;
                        chatMessages.appendChild(botMsgEl);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }, 1000);
                }
            });
        }
        
        // Scroll to top logic
        const scrollToTopBtn = document.getElementById('scroll-to-top');
        if (scrollToTopBtn) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    scrollToTopBtn.classList.add('show');
                } else {
                    scrollToTopBtn.classList.remove('show');
                }
            });
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
    });

    function updateSectorInfo(sector) {
        const info = sectorInfoContent[sector];
        const titleEl = document.getElementById('sector-title');
        const descEl = document.getElementById('sector-description');
        if (titleEl) titleEl.textContent = info.title;
        if (descEl) descEl.textContent = info.description;
    }
    
    function setActiveButton(activeBtn, selector, activeClasses, inactiveClasses = '') {
        document.querySelectorAll(selector).forEach(btn => {
            btn.classList.remove(...activeClasses.split(' '));
            if(inactiveClasses) btn.classList.add(...inactiveClasses.split(' '));
        });
        activeBtn.classList.add(...activeClasses.split(' '));
        if(inactiveClasses) activeBtn.classList.remove(...inactiveClasses.split(' '));
    }
</script>
</body>
</html>
